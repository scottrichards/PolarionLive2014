<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Polls</title>
<!-- Bootstrap css -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<!-- Bootstrap Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

<script src="//www.parsecdn.com/js/parse-1.6.7.min.js"></script>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script type="text/javascript">
Parse.initialize("7vtrNXPqcDSOZGEx3tEqsjOCsE8hl8PY9pwU8SLA", "WXPSSYYJuLfLn9aFqOpUpyuB4BjdmFHy3BQfoXcG");
$(document).ready(function() {
    console.log("ready!");
	doLoad();
});


function doLoad()
{
	var QuestionsClass = Parse.Object.extend("Questions");
	var query = new Parse.Query(QuestionsClass);
	query.find({
	  success: function(results) {
		alert("Successfully retrieved " + results.length + " questions.");
		// Do something with the returned Parse.Object values
		var returnStr = "";
		for (var i = 0; i < results.length; i++) {
		  var object = results[i];
		  var question = object.get('question');
		  alert(object.id + ' = question: ' + object.get('question'));
		  returnStr += "<tr><td>" + object.get('question') + "</td></tr>";
		}
		console.log("Append: " + returnStr);
		$("#tableId").find('tbody').append(returnStr);
	  },
	  error: function(error) {
		alert("Error: " + error.code + " " + error.message);
	  }
	});
}

</script>
</head>

<body>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<table width="80%" border="1" id="tableId">
  <tbody>
    <tr>
      <th scope="col">Question</th>
    </tr>
  </tbody>
</table>
</body>
</html>
